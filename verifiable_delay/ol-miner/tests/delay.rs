//! Functional test for delay module

#![forbid(unsafe_code)]
use ol_miner::delay;

#[test]
fn test_do_delay() {

    let correct_proof = hex::decode("000a93c203d003254e62bad0f514da9a4a0829e904facdb0b2454467e491d01436349eb66ad961bc61d22391e5ef6dd53eb9e68dc4c3e2c75d837aaeecb254cec584bb9653bb72262d2cddd9106209f1e71d8885015572cb8b78826379b8aa809e526f792ece566f51d588ef1edad1de95e7e0f611f184a1f996cec6d6bad0e66cfff6645fec17d82ee8d4786c12d9a745f1b6f4a3f474106dcac5d63c9be02c3b3bbc5df0933c1862b36e34ed40990d7091913dcd6ba291b76ee7371359856cd7c490fca0ddec94c7ad545eb6849d2f08525a2fbb72ee6010c6e454d2139ae413f2b111cd6b88c7f8a2ce1aebbece48a9541adc66fb4f317588a50538d9283350c500374280647a004fbbc08ec8e6b5841006eaba36e5438118ed0c723e236199b72a1e81f325153973336d72e66bc282a9f2d846e0d43ceab214213cce70d807e2aac7c054d8ea667b7f01a727da06297713f76ce433c789fef0ad5c3de9d34d676edaa5b814261aac974104422417699e36e3c9ad5104372565423e15748f07ca7e00222ba873fcf4abd0db389ebdef537afd2227f3b7a44a0d71289ecee8030887c062cf1beb31ba73abcd65a240f107a81fc5045a2a890d147abab4b75abf4babc30addbb414415e7047c635a45b8362c2eda3ee67696cbb3c1bc4e79300dc80e4d11d7cf1e22eceef18cbee921526c3aafa38a823deaabbece7c2ca02b43fe3dc5").unwrap();

    println!("decoded:\n{:?}", correct_proof);

    let proof = delay::delay::do_delay();

    assert_eq!(proof, correct_proof, "proof is not correct");


}
